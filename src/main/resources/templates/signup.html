<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>登録｜Three good Things</title>
<meta name="viewport" content="width=device-width">

<link th:href="@{/webjars/bootstrap/4.1.1/css/bootstrap.min.css}"
	rel="stylesheet"></link>
<script th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>
<script th:src="@{/webjars/bootstrap/4.1.1/js/bootstrap.min.js}"></script>
<link rel="stylesheet" th:href="@{css/login.css}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap"
	rel="stylesheet">
</head>
<body>
	<header class="border-bottom">
		<div class="title">
			<div class="title-in h-100 d-flex align-items-center">
				<div class="title-char">
					<p>
						<a href="#">Three good things</a>
					</p>
				</div>
			</div>
		</div>
	</header>

	<div class="container">
		<div class="wrapper login-wrapper">
			<div class="signupArea">
				<form method="post" th:action="@{/signup}" class="form-signup"
					th:object="${signupForm}">
					<div class="login-form">
						<div class="signup text-left">
							<h1>Sign Up</h1>
						</div>
						<div th:if="${error}" class="alert alert-danger">
							<p class="text-left" th:text="${error}"></p>
						</div>
						<div class="input-group signup-form-input">
							<input
								th:classappend="${#fields.hasErrors('mailAddress')} ? 'is-invalid'"
								type="text" th:field="*{mailAddress}" placeholder="メールアドレス">
							<span class="text-danger text-left d-block"
								th:if="${#fields.hasErrors('mailAddress')}"
								th:errors="*{mailAddress}">メールアドレスを入力してください</span>
						</div>
						<div class="input-group signup-form-input">
							<input
								th:classappend="${#fields.hasErrors('password')} ? 'is-invalid'"
								type="password" th:field="*{password}" placeholder="パスワード">
							<span class="text-danger text-left d-block"
								th:if="${#fields.hasErrors('password')}" th:errors="*{password}">パスワードを入力してください</span>
						</div>
						<div class="input-group signup-form-input">
							<input
								th:classappend="${#fields.hasErrors('passwordConfirm')} ? 'is-invalid'"
								type="password" th:field="*{passwordConfirm}"
								placeholder="パスワード（確認）"> <span
								class="text-danger text-left d-block"
								th:if="${#fields.hasErrors('passwordConfirm')}"
								th:errors="*{passwordConfirm}">パスワード（確認）を入力してください</span>
						</div>
						<input class="signup-btn" type="submit" value="登録">
						<div class="to-login text-right">
							<p>
								すでにアカウントをお持ちですか？<a th:href="@{/login}">ログイン</a>
							</p>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<footer class="text-center">
		<p>©︎ Copyright 2021-2022 by Three good things.</p>
	</footer>
  <script type="text/javascript" th:inline="javascript">
    $('.signup-btn').on('click', (e) => {
      e.preventDefault();
      if(confirm('登録します。よろしいですか？')){
        $('form').submit();
      }
    })
  </script>
</body>
<meta th:name="_csrf" th:content="${_csrf.token}" />
<meta th:name="_csrf_header" th:content="${_csrf.headerName}" />
</html>